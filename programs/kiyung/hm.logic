
type(C,var(X),T1) :- first(X:T,C). %,instantiate(T,T1).
type(C,lam(X,E),A -> B) :- type([X:mono(A)|C],E,B).
type(C,X $ Y,B) :- type(C,X,A -> B), type(C,Y,A).
type(C,let(X = E0,E1),T) :- type(C,E0,A),type([X:poly(C,A)|C],E1,T).

